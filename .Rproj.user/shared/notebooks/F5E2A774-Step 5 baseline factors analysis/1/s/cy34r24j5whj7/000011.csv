"0","data_surv_new <- readRDS(""data/time_independent_factors241219_full.rds"")"
"0",""
"0",""
"0","#Код для удаления категориальных факторов, у которых меньше 2 групп с хотя бы 5 записями"
"0","drop_names <- c()"
"0","for (i in colnames(data_surv_new%>%select(ends_with(""Cat1"") | ends_with(""Cat0"") |ends_with(""Cat2"")))){"
"0","  x <- data_surv_new%>%"
"0","    group_by(.data[[i]])%>%"
"0","    filter(n() > 5)%>% "
"0","    summarise(n = n())%>% "
"0","    na.omit()%>%"
"0","    nrow()"
"0","  if(x < 2){"
"0","    drop_names <- c(drop_names, i)"
"0","  }"
"0","}"
"1","[38;5;232mAdding missing grouping variables: `USUBJID`[39m
"
"0","data_surv_new <- data_surv_new%>%"
"0","  select(!any_of(drop_names))"
"1","[38;5;232mAdding missing grouping variables: `USUBJID`[39m
"
"0","            "
