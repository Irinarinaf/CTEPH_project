"0",""
"0","numeric_vars <- time_ind %>%"
"0","  ungroup() %>% "
"0","  select("
"0","    matches(""Num"", ignore.case = TRUE) & where(is.numeric)        "
"0","  )"
"0",""
"0","#colnames(numeric_vars)"
"0","# Построение матрицы корреляции"
"0","#correlation_matrix <- numeric_vars %>% cor(use = ""complete.obs"")"
"0","selected_variables <- c("
"0","  ""BMINum1"", ""Test6DistNum1"", ""Test6ApneaBorgNum1"", ""Test6PulsOxBeforeNum1"", "
"0","  ""Test6PulsOxAfterNum1"", ""HemoglobinNum1"", ""BNPNum1"", ""BloodBHGlucoseNum1"","
"0","  ""BloodBHTotalCholesterolNum1"", ""BloodBHTriglyceridesNum1"", ""BloodBHHDLCholesterolNum1"","
"0","  ""BloodBHLDLCholesterolNum1"", ""BloodBHUricAcidNum1"", "
"0","  ""ECHOCGPPareaNum0"", ""ECHOCGFrontBackSizeNum1"", ""ECHOCGSDLANum1"", "
"0","  ""ECHOCGDZLANum0"", ""RHCatheterDPPmeanNum0"", ""RHCatheterSDLANum1"", "
"0","  ""RHCatheterDZLANum0"", ""RHCatheterCINum1"", ""RHCatheterLCCVudNum1"","
"0","  ""RHCatheterSaO2Num1"", ""RHCatheterSvO2Num1"", ""AgeNum1"""
"0",")"
"0",""
"0","# Создаем словарь для более ""человеческих"" названий"
"0","variable_names <- c("
"0","  ""BMINum1"" = ""BMI"","
"0","  ""Test6DistNum1"" = ""6-Min Walk Distance"","
"0","  ""Test6ApneaBorgNum1"" = ""Apnea Borg Scale"","
"0","  ""Test6PulsOxBeforeNum1"" = ""Pulse Ox Before Test"","
"0","  ""Test6PulsOxAfterNum1"" = ""Pulse Ox After Test"","
"0","  ""HemoglobinNum1"" = ""Hemoglobin Level"","
"0","  ""BNPNum1"" = ""BNP Level"","
"0","  ""BloodBHGlucoseNum1"" = ""Blood Glucose"","
"0","  ""BloodBHTotalCholesterolNum1"" = ""Total Cholesterol"","
"0","  ""BloodBHTriglyceridesNum1"" = ""Triglycerides"","
"0","  ""BloodBHHDLCholesterolNum1"" = ""HDL Cholesterol"","
"0","  ""BloodBHLDLCholesterolNum1"" = ""LDL Cholesterol"","
"0","  ""BloodBHUricAcidNum1"" = ""Uric Acid"","
"0","  ""ECHOCGTapseNum0"" = ""ECHO TAPSE"","
"0","  ""ECHOCGPPareaNum0"" = ""ECHO PP Area"","
"0","  ""ECHOCGFrontBackSizeNum1"" = ""ECHO Front-Back Size"","
"0","  ""ECHOCGSDLANum1"" = ""ECHO SDL Area"","
"0","  ""ECHOCGDZLANum0"" = ""ECHO DZ Area"","
"0","  ""RHCatheterDPPmeanNum0"" = ""DPP Mean"","
"0","  ""RHCatheterSDLANum1"" = ""SDL Area"","
"0","  ""RHCatheterDZLANum0"" = ""DZ Area"","
"0","  ""RHCatheterCINum1"" = ""Cardiac Index"","
"0","  ""RHCatheterLCCVudNum1"" = ""LCC Volume"","
"0","  ""RHCatheterSaO2Num1"" = ""Arterial Oxygen Saturation"","
"0","  ""RHCatheterSvO2Num1"" = ""Venous Oxygen Saturation"","
"0","  ""AgeNum1"" = ""Age"""
"0",")"
"0",""
"0","# Фильтруем датасет, выбирая только нужные переменные"
"0","numeric_vars <- time_ind %>%"
"0","  ungroup() %>% "
"0","  select(all_of(selected_variables))"
"0",""
"0","# Вычисляем корреляционную матрицу"
"0","correlation_matrix <- cor(numeric_vars, use = ""pairwise.complete.obs"")"
"0",""
"0","# Переименовываем строки и столбцы матрицы"
"0","colnames(correlation_matrix) <- variable_names[colnames(correlation_matrix)]"
"0","rownames(correlation_matrix) <- variable_names[rownames(correlation_matrix)]"
"0",""
"0","# Построение тепловой карты"
"0","pheatmap_cor <- pheatmap("
"0","        mat = correlation_matrix,"
"0","        color = colorRampPalette(c(""blue"", ""white"", ""red""))(100),"
"0","        display_numbers = FALSE,                 # Числа внутри ячеек не отображаются"
"0","        clustering_distance_rows = ""euclidean"",  # Метрика расстояния для строк"
"0","        clustering_distance_cols = ""euclidean"",  # Метрика расстояния для столбцов"
"0","        clustering_method = ""complete"",          # Метод кластеризации"
"0","        fontsize_row = 8,                        # Размер шрифта для строк"
"0","        fontsize_col = 8,                        # Размер шрифта для столбцов"
"0","        main = ""Correlation Matrix for Numeric Predictors"""
"0","       )"
